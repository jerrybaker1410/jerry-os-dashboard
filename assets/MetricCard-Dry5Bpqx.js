import{j as r}from"./vendor-query-BDlgVFKC.js";import{r as i}from"./vendor-react-C3UgDDkQ.js";import{r as F,y as w,z as A}from"./vendor-icons-DvjlSrBB.js";const R=i.memo(function({value:t,duration:s=600,className:u="",prefix:c="",suffix:o=""}){const[x,d]=i.useState(t),m=i.useRef(t),a=i.useRef(null),l=e=>{if(typeof e=="number")return e;if(typeof e!="string")return 0;const n=e.replace(/[^0-9.\-]/g,"");return parseFloat(n)||0},h=e=>{const n=String(t);if(n.includes("K"))return`${e.toFixed(1)}K`;if(n.includes("M"))return`${e.toFixed(2)}M`;if(n.includes("%"))return`${e.toFixed(1)}%`;if(Number.isInteger(l(t))&&!n.includes("."))return Math.round(e).toString();const f=n.match(/\.(\d+)/),p=f?f[1].length:0;return e.toFixed(p)};return i.useEffect(()=>{const e=l(m.current),n=l(t);if(e===n||isNaN(e)||isNaN(n)){d(t),m.current=t;return}const f=n-e,p=performance.now(),b=j=>{const y=j-p,N=Math.min(y/s,1),M=N===1?1:1-Math.pow(2,-10*N),$=e+f*M;d(`${c}${h($)}${o}`),N<1?a.current=requestAnimationFrame(b):(d(t),m.current=t)};return a.current=requestAnimationFrame(b),()=>{a.current&&cancelAnimationFrame(a.current)}},[t,s,c,o]),r.jsx("span",{className:`tabular-nums count-transition ${u}`,children:x})}),z=i.memo(function({label:t,value:s,subValue:u,trend:c,icon:o,accentColor:x="accent-blue"}){const d=c==="up"?F:c==="down"?w:A,m=c==="up"?"text-accent-green":c==="down"?"text-accent-red":"text-text-muted",a=d,l=typeof s=="number"||typeof s=="string"&&/^[\$]?\d/.test(s);return r.jsx("div",{className:"cq-container",children:r.jsxs("div",{className:"bg-surface border border-border-default rounded-card p-4 shadow-elevation-1 card-interactive group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-text-secondary text-sm metric-label",children:t}),o&&r.jsx("div",{className:"p-1.5 rounded-md transition-colors duration-200",style:{backgroundColor:`var(--${x}-a10, oklch(0.62 0.18 260 / 0.1))`},children:r.jsx(o,{size:16,className:`text-${x}`})})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("span",{className:"text-2xl font-semibold text-text-primary font-data metric-value tabular-nums",children:l?r.jsx(R,{value:s}):s}),u&&r.jsxs("span",{className:"text-text-muted text-xs mb-1 flex items-center gap-1",children:[c&&r.jsx(a,{size:12,className:m}),u]})]})]})})});export{z as M};
