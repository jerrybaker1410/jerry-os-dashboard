import{j as e,a as d}from"./vendor-query-BDlgVFKC.js";import{h as x,w as m}from"./index-BLPMiw5x.js";import{P as p}from"./PageHeader-DXQHnwq5.js";import{E as u}from"./EmptyState-BRa_Xz5S.js";import{C as f}from"./CopyButton-B9VrSSor.js";import{T as o,r as h,h as j}from"./vendor-icons-DvjlSrBB.js";import"./vendor-react-C3UgDDkQ.js";import"./vendor-dates-DKd7Sy4i.js";function b(){return d({queryKey:["goals"],queryFn:m})}function g(t){if(!t)return[];const n=t.split(`
`),i=[];let s=null;for(const r of n){const c=r.match(/^##\s+(?:\d+\.\s*)?(.+)/);if(c){s&&i.push(s),s={title:c[1].trim(),details:[],metrics:[]};continue}if(!s)continue;const l=r.match(/^[-*]\s+(.+)/);if(l){const a=l[1].trim();/\d+[%xX]|\d+\/\d+|\$\d+/.test(a)?s.metrics.push(a):s.details.push(a)}}return s&&i.push(s),i}function z(){const{data:t,isLoading:n,refetch:i}=b();if(n)return e.jsx(x,{rows:5,cols:3});const s=g(t?.content);return e.jsxs("div",{className:"page-enter space-y-6",children:[e.jsx(p,{title:"Goal Tracker",subtitle:"Q1 2026 business goals from brain/goals/goals.md",onRefresh:i}),s.length===0?e.jsx(u,{icon:o,title:"No goals found",subtitle:t?.error||"Goals file could not be parsed"}):e.jsx("div",{className:"space-y-4",children:s.map((r,c)=>e.jsxs("div",{className:"bg-surface border border-border-default rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-border-default",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-accent-blue/10 flex items-center justify-center",children:e.jsx(o,{size:16,className:"text-accent-blue"})}),e.jsx("div",{className:"flex-1",children:e.jsx("h3",{className:"text-sm font-semibold text-text-primary",children:r.title})}),e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-accent-blue/10 text-accent-blue font-medium",children:["Goal ",c+1]})]}),e.jsxs("div",{className:"px-5 py-4 space-y-3",children:[r.metrics.length>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-caption uppercase tracking-wider text-text-muted mb-2 flex items-center gap-1",children:[e.jsx(h,{size:10})," Key Metrics"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.metrics.map((l,a)=>e.jsx("span",{className:"text-xs px-2.5 py-1 rounded bg-elevated text-text-secondary",children:l},a))})]}),r.details.length>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-caption uppercase tracking-wider text-text-muted mb-2 flex items-center gap-1",children:[e.jsx(j,{size:10})," Details"]}),e.jsx("ul",{className:"space-y-1.5",children:r.details.map((l,a)=>e.jsxs("li",{className:"text-xs text-text-secondary flex items-start gap-2",children:[e.jsx("span",{className:"text-text-muted mt-0.5",children:"â€¢"}),e.jsx("span",{children:l})]},a))})]})]})]},c))}),t?.content&&e.jsxs("details",{className:"bg-surface border border-border-default rounded-lg",children:[e.jsx("summary",{className:"px-4 py-3 text-xs text-text-muted cursor-pointer hover:text-text-secondary",children:"View raw goals.md"}),e.jsxs("div",{className:"border-t border-border-default",children:[e.jsx("div",{className:"flex justify-end px-4 py-2",children:e.jsx(f,{text:t.content,display:"Copy",mono:!1})}),e.jsx("pre",{className:"px-4 pb-4 text-xs text-text-secondary font-mono whitespace-pre-wrap max-h-96 overflow-y-auto",children:t.content})]})]})]})}export{z as default};
